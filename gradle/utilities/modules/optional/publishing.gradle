//////////////////////////////////////////////////
// TITLE Publishing
//////////////////////////////////////////////////

import static java.io.File.separator


/* SECTION check */

apply from: "$utilitiesDir${separator}meta${separator}application.gradle"
checkApply.call([])


/* SECTION application */

apply plugin: 'maven-publish'


/* SECTION configuration */

// Example configuration to allow publishing using the maven-publish task
// we define a custom artifact that is sourced from the jar output task
// and then declare that to be published
// Note you'll need to add a repository here
publishing {
    publications {
        //noinspection GroovyAssignabilityCheck
        mavenJava(MavenPublication) {
            if (tasks.hasProperty('shadowJar'))
                //noinspection GroovyAssignabilityCheck
                artifact tasks.shadowJar
            //noinspection GroovyAssignabilityCheck
            artifact tasks.jar
            //noinspection GroovyAssignabilityCheck
            artifact tasks.deobfJar
            //noinspection GroovyAssignabilityCheck
            artifact tasks.javadocJar
            //noinspection GroovyAssignabilityCheck
            artifact tasks.sourceJar
        }
    }
    repositories {
        if (!repositoryDirectoryLocal.empty) {
            maven {
                url "file:///${rootProject.file(repositoryDirectoryLocal).absolutePath}"
            }
        }
    }
}

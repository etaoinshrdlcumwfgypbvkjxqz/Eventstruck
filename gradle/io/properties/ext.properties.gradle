//////////////////////////////////////////////////
// TITLE Extra Properties Properties (ext.properties)
//////////////////////////////////////////////////

import static java.io.File.separator


/* SECTION check */

if (!project.ext.has('storeProperties') || !project.ext.has('loadProperties')) throw new IllegalStateException('Apply "properties.gradle" before applying "ext.properties.gradle".')


/* SECTION methods */

project.ext.storeExt = { String path = "$projectDir${separator}ext.properties" -> storeProperties new Properties(project.ext.properties.collectEntries { [it.key, it.value.toString()] }), path, 'Extra Properties # suppress inspection "UnusedProperty", "SpellCheckingInspection" for whole file' }

project.ext.loadExt = { String path = "$projectDir${separator}ext.properties" -> loadProperties(path).each { if (!project.ext.has(it.key as String)) project.ext."$it.key" = it.value } }
